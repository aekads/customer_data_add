<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Customer Management</title>
</head>
<body>
    <h2>Add New Customer</h2>
    <form action="/add" method="POST">
        <input type="text" name="company_name" placeholder="Company Name">
        <input type="text" name="customer_name" placeholder="Customer Name">
        <input type="email" name="customer_email" placeholder="Customer Email">
        <input type="number" step="0.01" name="total_spend" placeholder="Total Spend">
        <input type="number" name="screen_quantity" placeholder="Screen Quantity">
        <input type="date" name="payment_date">
        <select name="payment_mode">
            <option value="Cash">Cash</option>
            <option value="Credit Card">Credit Card</option>
            <option value="Debit Card">Debit Card</option>
            <option value="Bank Transfer">Bank Transfer</option>
            <option value="UPI">UPI</option>
        </select>
        <select name="payment_status">
            <option value="Done">Done</option>
            <option value="Not Done">Not Done</option>
        </select>
        <button type="submit">Add Customer</button>
    </form>

    <h2>Customer Records</h2>
    <table border="1">
        <tr>
            <th>ID</th>
            <th>Company Name</th>
            <th>Customer Name</th>
            <th>Email</th>
            <th>Total Spend</th>
            <th>Screen Quantity</th>
            <th>Payment Date</th>
            <th>Payment Mode</th>
            <th>Payment Status</th>
            <th>Actions</th>
        </tr>
        <% customers.forEach(customer => { %>
        <tr>
            <td><%= customer.id %></td>
            <td><%= customer.company_name %></td>
            <td><%= customer.customer_name %></td>
            <td><%= customer.customer_email %></td>
            <td><%= customer.total_spend %></td>
            <td><%= customer.screen_quantity %></td>
            <td><%= customer.payment_date %></td>
            <td><%= customer.payment_mode %></td>
            <td><%= customer.payment_status %></td>
            <td>
                <form action="/update/<%= customer.id %>" method="POST">
                    <input type="text" name="company_name" value="<%= customer.company_name %>">
                    <input type="text" name="customer_name" value="<%= customer.customer_name %>">
                    <input type="email" name="customer_email" value="<%= customer.customer_email %>">
                    <input type="number" step="0.01" name="total_spend" value="<%= customer.total_spend %>">
                    <input type="number" name="screen_quantity" value="<%= customer.screen_quantity %>">
                    <input type="date" name="payment_date" value="<%= customer.payment_date %>">
                    <select name="payment_mode">
                        <option value="Cash" <%= customer.payment_mode === 'Cash' ? 'selected' : '' %>>Cash</option>
                        <option value="Credit Card" <%= customer.payment_mode === 'Credit Card' ? 'selected' : '' %>>Credit Card</option>
                        <option value="Debit Card" <%= customer.payment_mode === 'Debit Card' ? 'selected' : '' %>>Debit Card</option>
                        <option value="Bank Transfer" <%= customer.payment_mode === 'Bank Transfer' ? 'selected' : '' %>>Bank Transfer</option>
                        <option value="UPI" <%= customer.payment_mode === 'UPI' ? 'selected' : '' %>>UPI</option>
                    </select>
                    <select name="payment_status">
                        <option value="Done" <%= customer.payment_status === 'Done' ? 'selected' : '' %>>Done</option>
                        <option value="Not Done" <%= customer.payment_status === 'Not Done' ? 'selected' : '' %>>Not Done</option>
                    </select>
                    <button type="submit">Update</button>
                </form>
            </td>
        </tr>
        <% }) %>
    </table>
</body>
</html>
